<p align="center">
  <img src="https://www.svgrepo.com/show/221325/http.svg" width="320" alt="HTTP Logo" />
  <span align="center" style="display:inline-block; font-size:30px; font-weight:800">Archive Tools</span>
</p>


## Description

**HTTP Archive Tool** is built with TypeScript [Nest](https://github.com/nestjs/nest) framework

The **HTTP Archive Tool** stands up a server with endpoints to parse HTTP Archive files in various ways. It's initial purpose was to detect data privacy violations in a user session. Part of that system has been broken out into a more general purpose parser, which will expose *Shared Strings* in a user's session. **It helps identify dataflow between different host domains.**

It looks to match strings such as "cookies", "headers", and  "query parameters".

You can specify various reports to run on the HAR file.

- Shared String
- Shared String Entity List
- Shared String Differential


Currently Reports will be read and stored in S3. You will have to fill out the `.env` file with the proper credentials.
There will be future support for using local filesystem. 

___ 


## Installation

```bash
$ npm install
```

## Running the app

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Test

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```


## Development
### Creating a new module

Before starting development it is important to understand the NEST framework. There are a couple basic concepts that will help to understand the purpose of each file. **The basic stucture is that each Module has a Component, Service/Repository, Data Transfer Model,  & Interface**. Some of these constucts are just fancy words for very simple purpose.



**You can run the `CreateFullModule.sh` script to have the following files autogenerated for you:**

*(Note that there are occasionally syntax issues when creating a module with a module name that is more than 1 word long)*

- controller
- module 
- dto 
- repository
- spec test file

*Take a look at the `CreateFullModule.sh` code to understand what is happening.*


**After you run the script there are still a few things that need to be manually added.**
- You will need to manually enter in the values into the dto file. Look at the `src/interfaces/entities/<your module>` for all the fields that you will need to add in. Use existing files for reference.

*The alternative is to use the `nest cli` and do it all manually.*

___

## Resources

- Swagger Docs:
     - https://docs.nestjs.com/recipes/swagger

- Great docs on creating components that hook into TypeORM
   - https://blog.theodo.com/2019/05/an-overview-of-nestjs-typeorm-release-your-first-application-in-less-than-30-minutes/

-  Swagger with NestJS
      - https://docs.nestjs.com/recipes/swagger


___

### Maintainers

Nicholas Porter - https://github.com/mnoster